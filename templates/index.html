<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Casino 7-24 VIP</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --pink: #ff00ff; --blue: #00ffff; --orange: #ff9100; --bg: #0d0d12; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: #fff; font-family: 'Orbitron', sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

        /* Sayfalar */
        .page { display: none; flex: 1; flex-direction: column; padding: 15px; padding-bottom: 90px; }
        .page.active { display: flex; }

        /* Parlayan Panel YapÄ±sÄ± */
        .neon-border { flex: 1; border: 2px solid var(--pink); border-radius: 25px; box-shadow: 0 0 20px rgba(255,0,255,0.3); display: flex; flex-direction: column; overflow: hidden; background: rgba(0,0,0,0.6); }
        .header { padding: 15px; text-align: center; font-size: 1.1rem; font-weight: bold; border-bottom: 1px solid #222; color: var(--pink); text-shadow: 0 0 5px var(--pink); }
        .chat-area { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 12px; }

        /* Mesaj BalonlarÄ± (GÃ¶rseldeki gibi) */
        .msg { background: rgba(255,255,255,0.05); padding: 12px; border-radius: 15px; border-left: 3px solid var(--orange); }
        .msg b { color: var(--orange); font-size: 0.9rem; }

        /* GiriÅŸ ve GÃ¶nder (GÃ¶rseldeki Turuncu Buton) */
        .input-wrap { padding: 15px; display: flex; gap: 10px; align-items: center; }
        input { flex: 1; background: #000; border: 2px solid var(--blue); color: white; padding: 12px; border-radius: 20px; outline: none; box-shadow: 0 0 10px rgba(0,255,255,0.2); }
        .send-btn { background: var(--orange); color: #000; border: none; padding: 12px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; box-shadow: 0 0 15px var(--orange); }

        /* Alt MenÃ¼ (GÃ¶rseldeki Ãœyeler-Lobi-Ã–zel ButonlarÄ±) */
        nav { position: fixed; bottom: 15px; left: 10px; right: 10px; display: flex; gap: 10px; height: 60px; z-index: 100; }
        nav button { flex: 1; border-radius: 20px; border: 2px solid; background: rgba(0,0,0,0.8); font-family: 'Orbitron'; font-weight: bold; font-size: 0.75rem; cursor: pointer; transition: 0.3s; }
        .btn-u { color: var(--pink); border-color: var(--pink); }
        .btn-l { color: #fff; border-color: var(--pink); background: var(--pink); box-shadow: 0 0 15px var(--pink); }
        .btn-p { color: var(--blue); border-color: var(--blue); }
        nav button.active { transform: scale(0.95); filter: brightness(1.2); }

        .u-item { padding: 12px; border-bottom: 1px solid #222; color: var(--blue); cursor: pointer; }
    </style>
</head>
<body>

    <div id="page-users" class="page">
        <div class="neon-border">
            <div class="header">ğŸ‘¤ AKTÄ°F ÃœYELER</div>
            <div id="u-list" class="chat-area"></div>
        </div>
    </div>

    <div id="page-lobby" class="page active">
        <div class="neon-border">
            <div class="header">ğŸŒ GENEL LOBÄ°</div>
            <div id="lobby-msgs" class="chat-area"></div>
            <div class="input-wrap">
                <input type="text" id="m-inp" placeholder="Mesaj yazÄ±n...">
                <button class="send-btn" onclick="send()">GÃ–NDER</button>
            </div>
        </div>
    </div>

    <div id="page-private" class="page">
        <div class="neon-border" style="border-color: var(--blue); box-shadow: 0 0 20px rgba(0,255,255,0.3);">
            <div class="header" style="color: var(--blue); text-shadow: 0 0 5px var(--blue);">ğŸ”’ Ã–ZEL SOHBET</div>
            <div id="private-msgs" class="chat-area"></div>
        </div>
    </div>

    <nav>
        <button class="btn-u" onclick="show('page-users')">ÃœYELER</button>
        <button class="btn-l" onclick="show('page-lobby')">LOBÄ°</button>
        <button class="btn-p" onclick="show('page-private')">Ã–ZEL</button>
    </nav>

    <script>
        const socket = io();
        let target = "global";
        let myName = prompt("KullanÄ±cÄ± AdÄ±nÄ±z:");
        if(myName) socket.emit('register', myName);

        function show(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        document.getElementById('m-inp').addEventListener('keypress', e => { if(e.key === 'Enter') send(); });

        function send() {
            const inp = document.getElementById('m-inp');
            if(!inp.value.trim()) return;
            socket.emit('send_msg', {target: target, msg: inp.value});
            inp.value = "";
        }

        socket.on('receive_msg', data => {
            const area = data.target === 'global' ? 'lobby-msgs' : 'private-msgs';
            document.getElementById(area).innerHTML += `<div class="msg"><b>${data.sender}:</b> ${data.msg}</div>`;
            document.getElementById(area).scrollTop = 99999;
        });

        socket.on('update_users', list => {
            const div = document.getElementById('u-list');
            div.innerHTML = `<div class="u-item" onclick="setTarget('global')">ğŸŒ Genel Sohbet'e DÃ¶n</div>`;
            list.forEach(u => {
                if(u.name !== myName) div.innerHTML += `<div class="u-item" onclick="setTarget('${u.name}')">ğŸ‘¤ ${u.name}</div>`;
            });
        });

        function setTarget(name) {
            target = name;
            alert(name === 'global' ? "Genel sohbete geÃ§ildi." : name + " ile Ã¶zel sohbet aÃ§Ä±ldÄ±.");
            show('page-lobby');
        }
    </script>
</body>
</html>
