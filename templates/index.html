<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Türkiye Klan Savaşları: 81 İL ONLINE</title>
    <style>
        :root { --gold: #d4af37; --red: #ff4500; --dark: #0a0e14; --blue: #00d4ff; }
        body { margin: 0; background: var(--dark); color: #fff; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        
        /* SALDIRI EFEKTİ */
        @keyframes shake { 0% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -2px); } 100% { transform: translate(1px, 1px); } }
        .attacking-shake { animation: shake 0.1s infinite; }
        @keyframes bg-flash { 0% { background: #0a0e14; } 50% { background: #200; } 100% { background: #0a0e14; } }
        .flash-red { animation: bg-flash 0.4s infinite; }

        /* ARAYÜZ TASARIMI */
        #header { display: flex; justify-content: space-around; padding: 15px; background: #161b22; border-bottom: 2px solid var(--gold); font-weight: bold; }
        #map-container { position: relative; height: 60vh; background: radial-gradient(circle, #1a2533 0%, #000 100%); display: flex; justify-content: center; align-items: center; }
        
        /* 81 İL TEMSİLİ (SVG) */
        svg { width: 90%; height: 90%; filter: drop-shadow(0 0 10px rgba(0,212,255,0.2)); }
        .city { fill: #222; stroke: #444; stroke-width: 0.5; cursor: pointer; transition: 0.3s; }
        .city:hover { fill: var(--blue); stroke: #fff; }
        .occupied { fill: var(--red) !important; stroke: var(--gold); stroke-width: 1.5; filter: drop-shadow(0 0 8px var(--red)); }

        /* SAVAŞ PANELİ */
        #battle-hud { position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.8); border: 1px solid var(--red); padding: 15px; border-radius: 8px; min-width: 180px; text-align: center; }
        .hp-container { width: 100%; height: 10px; background: #333; margin-top: 10px; border-radius: 5px; overflow: hidden; }
        #hp-bar { width: 100%; height: 100%; background: linear-gradient(90deg, #f00, #ff4500); transition: 0.1s; }

        /* KONTROL PANELİ */
        #controls { height: 25vh; background: #0d1117; border-top: 2px solid var(--gold); display: flex; align-items: center; justify-content: space-around; padding: 0 20px; }
        .btn-main { padding: 20px 50px; font-size: 24px; font-weight: bold; color: #fff; background: linear-gradient(to bottom, #ff4500, #8b0000); border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 0 20px rgba(255,69,0,0.5); text-transform: uppercase; }
        .btn-main:active { transform: scale(0.95); box-shadow: none; }
        
        .rank-badge { font-size: 14px; color: var(--gold); border: 1px solid var(--gold); padding: 2px 8px; border-radius: 4px; margin-left: 5px; }
    </style>
</head>
<body id="main-body">

<div id="header">
    <div>KOMUTAN: <span id="user-display" style="color:var(--blue)">ADMIN</span> <span id="rank" class="rank-badge">ONBAŞI</span></div>
    <div>KLAN SEVİYESİ: <span id="lvl-display" style="color:var(--gold)">1</span></div>
    <div style="color:#0f0">● ONLINE</div>
</div>

<div id="map-container">
    <svg id="tr-map" viewBox="0 0 1000 450">
        <rect x="150" y="80" width="60" height="40" class="city" onclick="selectCity(this, 'İSTANBUL')" />
        <rect x="420" y="150" width="70" height="50" class="city" onclick="selectCity(this, 'ANKARA')" />
        <rect x="80" y="220" width="50" height="60" class="city" onclick="selectCity(this, 'İZMİR')" />
        <rect x="300" y="320" width="80" height="40" class="city" onclick="selectCity(this, 'ANTALYA')" />
        <rect x="750" y="230" width="70" height="60" class="city" onclick="selectCity(this, 'DİYARBAKIR')" />
        <rect x="520" y="280" width="60" height="50" class="city" onclick="selectCity(this, 'ADANA')" />
        <rect x="220" y="180" width="60" height="50" class="city" onclick="selectCity(this, 'BURSA')" />
        <rect x="850" y="120" width="60" height="50" class="city" onclick="selectCity(this, 'ERZURUM')" />
        </svg>

    <div id="battle-hud">
        <div id="target-name" style="font-size:14px; color:var(--red)">HEDEF SEÇİLMEDİ</div>
        <div class="hp-container"><div id="hp-bar"></div></div>
        <div id="hp-text" style="font-size:10px; margin-top:5px;">DİRENÇ: %100</div>
    </div>
</div>

<div id="controls">
    <div style="width: 250px;">
        <div style="font-size:12px; color:#888;">SON AKTİVİTE:</div>
        <div id="log" style="font-size:11px; color:#ccc; height: 60px; overflow-y: auto;">- Ordu emir bekliyor...</div>
    </div>

    <button class="btn-main" onmousedown="startAttack()" onmouseup="stopAttack()" ontouchstart="startAttack()" ontouchend="stopAttack()">Saldırıya Asıl!</button>

    <div style="text-align:center">
        <div style="font-size:11px;">MÜHİMMAT</div>
        <div style="font-size:24px; color:var(--gold);">∞</div>
    </div>
</div>

<script>
    let level = 1;
    let hp = 100;
    let selectedCity = null;
    let cityName = "";
    let attackInterval = null;

    function selectCity(el, name) {
        if(attackInterval) return;
        document.querySelectorAll('.city').forEach(c => c.classList.remove('occupied'));
        el.classList.add('occupied');
        selectedCity = el;
        cityName = name;
        hp = 100;
        document.getElementById('target-name').innerText = "HEDEF: " + name;
        updateUI();
        addLog(name + " kuşatma altına alındı!");
    }

    function startAttack() {
        if(!selectedCity) return alert("Önce haritadan bir il seç!");
        
        document.getElementById('main-body').classList.add('flash-red');
        selectedCity.classList.add('attacking-shake');

        attackInterval = setInterval(() => {
            hp -= 4; // SİHA Gücü
            if(hp <= 0) {
                victory();
            }
            updateUI();
        }, 80);
    }

    function stopAttack() {
        clearInterval(attackInterval);
        attackInterval = null;
        document.getElementById('main-body').classList.remove('flash-red');
        if(selectedCity) selectedCity.classList.remove('attacking-shake');
    }

    function victory() {
        level++;
        hp = 100;
        addLog(cityName + " FETHEDİLDİ! +1 Seviye");
        document.getElementById('lvl-display').innerText = level;
        updateRank();
        stopAttack();
        alert("ZAFER! " + cityName + " artık senin kontrolünde!");
    }

    function updateRank() {
        let r = "ONBAŞI";
        if(level > 10) r = "YÜZBAŞI";
        if(level > 30) r = "BİNBAŞI";
        if(level > 50) r = "GENERAL";
        document.getElementById('rank').innerText = r;
    }

    function updateUI() {
        document.getElementById('hp-bar').style.width = hp + "%";
        document.getElementById('hp-text').innerText = "DİRENÇ: %" + Math.max(0, hp);
    }

    function addLog(msg) {
        const log = document.getElementById('log');
        log.innerHTML = `> ${msg}<br>` + log.innerHTML;
    }
</script>

</body>
</html>
