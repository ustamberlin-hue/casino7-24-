<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TÃ¼rkiye Klan SavaÅŸlarÄ±: 81 Ä°L MEGA OPERASYON</title>
    <script src="https://simplemaps.com/static/scripts/tr/countrymap.js"></script>
    <style>
        :root { --gold: #d4af37; --red: #ff4500; --bg: #0b0d11; --blue: #00d4ff; --panel: #161a22; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        
        /* SALDIRI EFEKTÄ° */
        @keyframes attack-flash { 0% { box-shadow: inset 0 0 0px var(--red); } 50% { box-shadow: inset 0 0 120px var(--red); } 100% { box-shadow: inset 0 0 0px var(--red); } }
        .flash-active { animation: attack-flash 0.3s infinite; border: 3px solid var(--red) !important; }

        /* MARKET SÄ°STEMÄ° */
        #market-bar { background: #07080c; border-bottom: 2px solid #333; display: flex; justify-content: center; gap: 15px; padding: 12px; z-index: 100; position: relative; }
        .weapon-btn { background: #222; border: 1px solid var(--gold); color: white; padding: 10px 20px; cursor: pointer; border-radius: 8px; font-size: 13px; font-weight: bold; transition: 0.3s; }
        .weapon-btn.active { background: var(--gold); color: black; box-shadow: 0 0 15px var(--gold); }

        /* ÃœST BÄ°LGÄ° PANELÄ° */
        #header { display: flex; justify-content: space-around; padding: 12px; background: var(--panel); border-bottom: 2px solid var(--gold); font-weight: bold; }
        
        /* HARÄ°TA ALANI */
        #map-container { position: relative; height: 55vh; background: radial-gradient(circle, #1e272e 0%, #000 100%); display: flex; justify-content: center; align-items: center; border: 1px solid #333; }
        #map { width: 100%; height: 100%; }

        /* SAVAÅ DURUMU (HUD) */
        #battle-hud { position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.9); border: 2px solid var(--red); padding: 18px; border-radius: 12px; min-width: 220px; text-align: center; backdrop-filter: blur(10px); }
        .hp-outer { width: 100%; height: 15px; background: #222; margin-top: 12px; border-radius: 8px; overflow: hidden; border: 1px solid #444; }
        #hp-bar { width: 100%; height: 100%; background: linear-gradient(90deg, #ff0000, #ff8000); transition: 0.1s; }

        /* ALT KONTROL MERKEZÄ° */
        #footer { height: 20vh; background: var(--panel); border-top: 3px solid var(--gold); display: flex; align-items: center; justify-content: space-around; padding: 0 30px; }
        #terminal { width: 30%; height: 100px; background: #000; border: 1px solid #444; font-size: 12px; padding: 10px; color: #0f0; font-family: 'Courier New', monospace; overflow-y: hidden; }
        
        .btn-strike { padding: 25px 70px; font-size: 28px; font-weight: 900; color: #fff; background: linear-gradient(135deg, #ff4500 0%, #8b0000 100%); border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 0 35px rgba(255,69,0,0.5); user-select: none; text-transform: uppercase; letter-spacing: 2px; }
        .btn-strike:active { transform: scale(0.95); box-shadow: none; }

        .lvl-display { text-align: center; border: 2px solid var(--gold); padding: 10px 25px; border-radius: 12px; background: #000; }
        #lvl-val { font-size: 48px; color: var(--gold); font-weight: bold; line-height: 1; }
    </style>
</head>
<body id="war-room">

    <div id="market-bar">
        <button class="weapon-btn active" id="w1" onclick="selectWeapon(3, 'Piyade', 'w1')">ğŸ”« PÄ°YADE BÄ°RLÄ°ÄÄ° (x3)</button>
        <button class="weapon-btn" id="w2" onclick="selectWeapon(12, 'AÄŸÄ±r TopÃ§u', 'w2')">ğŸ’¥ AÄIR TOPÃ‡U (x12)</button>
        <button class="weapon-btn" id="w3" onclick="selectWeapon(40, 'Bayraktar SÄ°HA', 'w3')">ğŸ›¸ SÄ°HA OPERASYONU (x40)</button>
    </div>

    <div id="header">
        <div>ORDU: <span style="color:var(--blue)">ADMIN STRATEJÄ°</span></div>
        <div style="color:#0f0">â— BAÄLANTI: AKTÄ°F</div>
        <div id="target-clan" style="color:var(--gold)">HEDEF SEÃ‡Ä°MÄ° BEKLENÄ°YOR...</div>
    </div>

    <div id="map-container">
        <div id="map"></div>
        <div id="battle-hud">
            <div id="target-name" style="font-size:20px; font-weight:bold; color:var(--red); text-shadow: 0 0 10px #f00;">HEDEF YOK</div>
            <div class="hp-outer"><div id="hp-bar"></div></div>
            <div id="hp-label" style="font-size:12px; margin-top:8px; font-weight:bold;">SAVUNMA DÄ°RENCÄ°: %100</div>
        </div>
    </div>

    <div id="footer">
        <div id="terminal">> SÄ°STEM YÃœKLENDÄ°.<br>> 81 Ä°L SENKRONÄ°ZE EDÄ°LDÄ°.<br>> EMÄ°R BEKLENÄ°YOR...</div>
        
        <button class="btn-strike" 
                onmousedown="startStrike()" 
                onmouseup="endStrike()" 
                onmouseleave="endStrike()"
                ontouchstart="startStrike()" 
                ontouchend="endStrike()">SALDIRIYA ASIL!</button>

        <div class="lvl-display">
            <div style="font-size:11px; color:#888; margin-bottom:5px;">KLAN SEVÄ°YESÄ°</div>
            <div id="lvl-val">1</div>
        </div>
    </div>

    <script>
        let currentLvl = 1; let enemyHp = 100; let selectedProvince = ""; let strikeTimer = null; let attackPower = 3;

        // HARÄ°TAYI 81 Ä°L OLARAK BAÅLATMA
        simplemaps_countrymap.hooks.click_state = function(id) {
            selectedProvince = simplemaps_countrymap.mapdata.state_specific[id].name;
            enemyHp = 100;
            document.getElementById('target-name').innerText = selectedProvince.toUpperCase();
            document.getElementById('target-clan').innerText = selectedProvince + " CEPHESÄ°";
            updateDisplay();
            pushLog(selectedProvince + " bÃ¶lgesine kilitlenildi.");
        };

        function selectWeapon(pwr, name, id) {
            attackPower = pwr;
            document.querySelectorAll('.weapon-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            pushLog(name + " aktif edildi.");
        }

        function startStrike() {
            if(!selectedProvince) return;
            if(strikeTimer) return;
            document.getElementById('war-room').classList.add('flash-active');
            strikeTimer = setInterval(() => {
                enemyHp -= (attackPower / 2.5);
                if(enemyHp <= 0) handleVictory();
                updateDisplay();
            }, 60);
        }

        function endStrike() {
            clearInterval(strikeTimer);
            strikeTimer = null;
            document.getElementById('war-room').classList.remove('flash-active');
        }

        function handleVictory() {
            currentLvl++;
            enemyHp = 100;
            document.getElementById('lvl-val').innerText = currentLvl;
            pushLog(selectedProvince + " DÃœÅÃœRÃœLDÃœ! ZAFER!");
            endStrike();
            alert("Tebrikler Komutan! " + selectedProvince + " fethini tamamladÄ±nÄ±z.");
        }

        function updateDisplay() {
            document.getElementById('hp-bar').style.width = enemyHp + "%";
            document.getElementById('hp-label').innerText = "SAVUNMA DÄ°RENCÄ°: %" + Math.max(0, Math.floor(enemyHp));
        }

        function pushLog(msg) {
            const t = document.getElementById('terminal');
            t.innerHTML = `> ${msg}<br>` + t.innerHTML;
        }
    </script>
</body>
</html>
